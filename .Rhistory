mutate(median_height = median(height))
View(r)
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes(y = median_height, x = country, group = country, fill = freq), stat = "identity") +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes(y = median_height, x = country, group = country, fill = freq)) +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes(y = median_height, x = country, group = country, fill = freq), position = position_stack()) +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, group = country, fill = freq), position = position_stack()) +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, fill = freq), position = position_stack()) +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = ..prop.., fill = freq), position = position_stack()) +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = ..prop.., fill = freq), position = fill) +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = ..prop.., fill = freq), position = "fill") +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, fill = freq), position = "fill") +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12 * 100) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, y= median_height,fill = freq), position = "fill") +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = median_height, fill = freq), position = "fill") +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(median_height = median(height)) %>%
ggplot() +
geom_bar(aes( x = country, fill = freq), position = "fill") +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = country, fill = freq), position = "fill") +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = country, fill = freq)) +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = sum_height, fill = freq)) +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = sum_height, fill = freq), stat = "identity") +
coord_flip() +
theme(
legend.position = "none"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = sum_height, fill = freq), stat = "identity") +
coord_flip() +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = sum_height, fill = position), stat = "identity") +
coord_flip() +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position = "SG" ~ "G",
position = "PG" ~ "G",
position = "SF" ~ "F",
position = "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = sum_height, fill = position), stat = "identity") +
coord_flip() +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position == "SG" ~ "G",
position == "PG" ~ "G",
position == "SF" ~ "F",
position == "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = country, y = sum_height, fill = position), stat = "identity") +
coord_flip() +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position == "SG" ~ "G",
position == "PG" ~ "G",
position == "SF" ~ "F",
position == "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = fct_reorder(country, sum_height), y = sum_height, fill = position), stat = "identity") +
coord_flip() +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position == "SG" ~ "G",
position == "PG" ~ "G",
position == "SF" ~ "F",
position == "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = fct_reorder(country, sum_height), y = sum_height, fill = position), stat = "identity") +
coord_flip() +
scale_fill_brewer(limits = c("G", "F", "C"), labels = c("guards", "forwards", "centers")) +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position == "SG" ~ "G",
position == "PG" ~ "G",
position == "SF" ~ "F",
position == "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = fct_reorder(country, sum_height), y = sum_height, fill = position), stat = "identity") +
coord_flip(expand = 0) +
scale_fill_brewer(limits = c("G", "F", "C"), labels = c("guards", "forwards", "centers")) +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position == "SG" ~ "G",
position == "PG" ~ "G",
position == "SF" ~ "F",
position == "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = fct_reorder(country, sum_height), y = sum_height, fill = position), stat = "identity") +
coord_flip(expand = 0) +
scale_fill_brewer(limits = c("G", "F", "C"), labels = c("guards", "forwards", "centers")) +
theme_void(base_family = "IBM Plex Sans")
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position == "SG" ~ "G",
position == "PG" ~ "G",
position == "SF" ~ "F",
position == "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = fct_reorder(country, sum_height), y = sum_height, fill = position), stat = "identity") +
coord_flip(expand = 0) +
scale_fill_brewer(limits = c("G", "F", "C"), labels = c("guards", "forwards", "centers")) +
theme_void(base_family = "IBM Plex Sans") +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position == "SG" ~ "G",
position == "PG" ~ "G",
position == "SF" ~ "F",
position == "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = fct_reorder(country, sum_height), y = sum_height, fill = position), stat = "identity") +
coord_flip(expand = 0) +
scale_fill_brewer(limits = c("G", "F", "C"), labels = c("guards", "forwards", "centers")) +
theme_minimal(base_family = "IBM Plex Sans") +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
rosters %>%
mutate(age = year(today()) - year(date_of_birth)) %>%
mutate(position = case_when(
position == "SG" ~ "G",
position == "PG" ~ "G",
position == "SF" ~ "F",
position == "PF" ~ "F",
TRUE ~ position
)) %>%
group_by(country, position) %>%
mutate(n = n(),
freq = n / 12) %>%
group_by(country) %>%
mutate(sum_height = sum(height)) %>%
ggplot() +
geom_bar(aes( x = fct_reorder(country, sum_height), y = sum_height, fill = position), stat = "identity") +
coord_flip(expand = 0) +
scale_fill_manual(values=c("#1c2b7d", "#f7ca07", "#e7051a"), limits = c("G", "F", "C"), labels = c("guards", "forwards", "centers")) +
theme_minimal(base_family = "IBM Plex Sans") +
theme(
legend.position = "bottom"
) +
ggsave(here::here("figures", "height.png"))
library(ggtext)
source('~/Documents/Projects/R/FIBA-BWC19/R/scrape-venues.R', echo=TRUE)
View(venues)
history <- read_csv("data/FIBA-WBC-history.txt")
View(history)
venues <- read_csv("data/FIBA-WBC19-venues.csv")
View(venues)
venues <- read_csv("data/FIBA-WBC19-venues.csv")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
min(rosters$height)
max(rosters$height)
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
source("R/ageheight.R")
q()
